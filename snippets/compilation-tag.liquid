{% if head %}
  {% render 'no-critical-css', development: development %}
{% else %}
  {% assign ext = '.js' %}

  {% if development %}
    {% assign ext = '.dev.js' %}
  {% endif %}

  {% comment %}
  <script async src="{{ 'critical.js' | append: ext | asset_url }}"></script>
  {% endcomment %}
  
  <script defer="defer" src="{{ 'theme' | append: ext | asset_url }}"></script>
  <script defer="defer" src="{{ 'cart' | append: ext | asset_url }}"></script>
  <script defer="defer" src="{{ 'productcard' | append: ext | asset_url }}"></script>

  {%- if request.page_type == 'product' -%}
    <script async src="{{ 'product' | append: ext | asset_url }}"></script>
  {%- endif -%}

  {%- if request.page_type == 'collection' -%}
    <script defer="defer" src="{{ 'collection' | append: ext | asset_url }}"></script>
  {%- endif -%}

  {%- if request.path contains 'contact' -%}
    <script defer="defer" src="{{ 'contact' | append: ext | asset_url }}"></script>
  {%- endif -%}

  {%- if request.page_type contains 'customers' -%}
    <script defer="defer" src="{{ 'customer' | append: ext | asset_url }}"></script>
  {%- endif -%}
{% endif %}